import re


def part1(ipt):
    ans = 0
    for i, j in [[int(y) for y in x.split('-')] for x in ipt.split(',')]:
        for x in range(i, j + 1):
            num = str(x)
            if num[:len(num) // 2] == num[len(num) // 2:]:
                ans += x
    return ans


def part2(ipt):
    pattern = re.compile(r'^(\d+)\1+$')
    ans = 0
    for i, j in [[int(y) for y in x.split('-')] for x in ipt.split(',')]:
        for x in range(i, j + 1):
            if bool(pattern.match(str(x))):
                ans += x
    return ans


sample_ipt = "11-22,95-115,998-1012,1188511880-1188511890,222220-222224,1698522-1698528,446443-446449,38593856-38593862,565653-565659,824824821-824824827,2121212118-2121212124"
ipt = "2157315-2351307,9277418835-9277548385,4316210399-4316270469,5108-10166,872858020-872881548,537939-575851,712-1001,326613-416466,53866-90153,907856-1011878,145-267,806649-874324,6161532344-6161720341,1-19,543444404-543597493,35316486-35418695,20-38,84775309-84908167,197736-309460,112892-187377,336-552,4789179-4964962,726183-793532,595834-656619,1838-3473,3529-5102,48-84,92914229-92940627,65847714-65945664,64090783-64286175,419838-474093,85-113,34939-52753,14849-30381"

print(part1(ipt))
print(part2(ipt))
